---
title: 資料型別
type: docs
permalink: datatype/
lang: zh-TW
---

## 資料型別

## 物件（Object）

是定义一个对象，具体是定义一个 NPC、一个物品、一个场景、一个运行于内存里的
文件。实际上是一段由后面很多变量按一定运算方式组合在一起的程式。一个程序里制造
成一件新的物品，则必须先定义一个变量，如:object obj，然后再 obj = new(xx) 将这个 obj
实际上就 clone 了出来，括弧里的 xx 代表它的文件绝对路径名。

## 整數（Int）

表明定义的是一个整型，可以为正负或 0，定义出来的数字可以进行各种数字运算，
但结果只保留小数点前的数字。

## 浮點數（Float）

表示定义的是一个浮点型，对于使用的 MUDOS 来说，机器支持浮点值到小数点得后
7 位（精确度）。

## 字串（String）：

表明定义的是一个字符串型，字符串的长度在理论上是没有限制的。在 LPMUD 里，
限于网络响应，一般是在编译 MUDOS 时，在 config.h 文件里进行设置与限制。对于字符
串型变量的识别，有简单的区别标准：有用“”括起来的是 string 型，没有则看其是否整
数而分辨为整数数值与浮点数值。因此在一些不严谨的语句中，如没有强制定义，也可将8
int、float 与 string 区分出来。
A、set("number",783);------->int 型
B、set("number",78.3);------>float 型
C、set("number","783");----->string 型
D、set("number","78.3");---->string 型
同时 string 型可以相加，但决非数字意义上的运算，而是一种合并，例如上面的 C＋
D 就是"78378.3"；

## 陣列（Array）

表明定义的是一个数组型， LPC 中的数组是在类型后面加 * 来表示数组，且不用预
先定大小，但若有需要可以用 allocate(size)来固定大小。
如：a = allocate(10); 在固定了 SIZE 之后好处是可以任意用下标定位来对数组元素操
作。

## 映射（Map）

LPC 中利用率最高的散列型（映射型），可以用任意的数据类型来建立索引(如 string、
object、int、array 等等)，而不是仅仅用整数。
例：mapping fam = (["a":2,"b":13,"c":2.333,"d":"一条小河","e":"158"]);
fam 里的 a、b 子变量是 int 型的，c 是 float 型的，d、e 是 string 型的。LPC 的说明文
件里，a、b、c、d 被叫做“关键字”，而后面的 2、13、2.333、一条小河、158 被叫做“内容
值”。
散列型的变量可以用 “变量名["关键字"]” 的形式进行调用，并可以用 “变量名["关键
字"]=新内容值” 的方式进行赋值。例：fam["e"]的值是"158" ，如果 fam["e"]="400"，那么
再次调用时：fam["e"]的值就是"400"。

## 參考資料

- [MUD 遊戲玩家社區 | LPC 語言教程](https://bbs.mud.ren/threads/3)
- [Wilderness MUD](https://www.cs.hmc.edu/~jhsu/wilderness/)